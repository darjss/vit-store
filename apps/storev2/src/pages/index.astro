---
export const prerender = false;

import BenefitsSection from "@/components/home/BenefitsSection.astro";
import CategoryGrid from "@/components/home/CategoryGrid.astro";
import CTASection from "@/components/home/CTASection.astro";
import Hero from "@/components/home/Hero.astro";
import ProductSection from "@/components/home/ProductSection.astro";
import Layout from "@/layouts/Layout.astro";

import { api } from "@/lib/trpc";


const products = await api.product.getProductsForHome.query();
console.log("ðŸ”´ products", products);
const { featuredProducts, newProducts, discountedProducts } = products;

---

<Layout>
    <Hero />

    <ProductSection
        title="ÐžÐ½Ñ†Ð»Ð¾Ñ… Ð±Ò¯Ñ‚ÑÑÐ³Ð´ÑÑ…Ò¯Ò¯Ð½"
        subtitle="ÐœÐ°Ð½Ð°Ð¹ ÑˆÐ¸Ð»Ð´ÑÐ³ ÑÐ¾Ð½Ð³Ð¾Ð»Ñ‚ÑƒÑƒÐ´"
        products={featuredProducts}
        filterLink="filter=featured"
        badgeStyle="featured"
    />

    <ProductSection
        title="Ð¨Ð¸Ð½Ñ Ð¸Ñ€ÑÑÐ½ Ð±Ò¯Ñ‚ÑÑÐ³Ð´ÑÑ…Ò¯Ò¯Ð½"
        subtitle="Ð¡Ð°ÑÑ…Ð°Ð½ Ð½ÑÐ¼ÑÐ³Ð´ÑÑÐ½"
        products={newProducts}
        filterLink="filter=recent"
        badgeStyle="new"
        bgClass="bg-muted/30"
    />

    <ProductSection
        title="Ð¥Ó©Ð½Ð³Ó©Ð»Ó©Ð»Ñ‚Ñ‚ÑÐ¹ Ð±Ò¯Ñ‚ÑÑÐ³Ð´ÑÑ…Ò¯Ò¯Ð½"
        subtitle="Ð¢ÑƒÑÐ³Ð°Ð¹ Ò¯Ð½Ð¸Ð¹Ð½ ÑÐ°Ð½Ð°Ð»ÑƒÑƒÐ´"
        products={discountedProducts}
        filterLink="filter=discount"
        badgeStyle="discount"
        disclaimer="Ð­Ð¼Ð½ÑÐ»Ð³Ð¸Ð¹Ð½ Ð·Ó©Ð²Ð»Ó©Ð³Ó©Ó© Ð±Ð¸Ñˆ. ÐœÑÑ€Ð³ÑÐ¶Ð»Ð¸Ð¹Ð½ ÑÐ¼Ñ‡Ð¸Ð´ Ñ…Ð°Ð½Ð´Ð°Ð½Ð° ÑƒÑƒ."
    />

    <CategoryGrid />

    <BenefitsSection />

    <CTASection
        title="Ð§Ð°Ð½Ð°Ñ€Ñ‚Ð°Ð¹ Ð²Ð¸Ñ‚Ð°Ð¼Ð¸Ð½, Ð½ÑÐ¼ÑÐ»Ñ‚ Ñ‚ÑÐ¶ÑÑÐ»"
        description="ÐÐÐ£-Ñ‹Ð½ ÑˆÐ¸Ð»Ð´ÑÐ³ Ð±Ñ€ÑÐ½Ð´Ò¯Ò¯Ð´Ð¸Ð¹Ð½ Ð²Ð¸Ñ‚Ð°Ð¼Ð¸Ð½, Ð½ÑÐ¼ÑÐ»Ñ‚ Ñ‚ÑÐ¶ÑÑÐ»ÑÑÑ€ ÑÑ€Ò¯Ò¯Ð» Ð¼ÑÐ½Ð´ÑÑ Ð´ÑÐ¼Ð¶ÑÑÑ€ÑÐ¹."
        buttonText="Ð‘Ò¯Ñ… Ð±Ò¯Ñ‚ÑÑÐ³Ð´ÑÑ…Ò¯Ò¯Ð½"
        buttonLink="/products"
    />
</Layout>
