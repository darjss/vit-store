---

import UserProfile from "@/components/auth/UserProfile.astro";
import CartButton from "@/components/cart/cart-button";
import SidebarContent from "@/components/SidebarContent.astro";
import SearchOverlay from "@/components/search/search-overlay";
import { Sheet, SheetContent, SheetTrigger } from "@/components/starwind/sheet";
---

<header
    class="sticky top-0 z-50  bg-white/90  border-b-4 border-black" transition:persist transition:name="header"
>
    <div class="container  mx-auto px-4 py-4">
        <div class="flex items-center justify-between gap-4">
            <Sheet>
                <SheetTrigger class="p-2 border-[3px] border-black bg-white shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:bg-primary hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] transition-all">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    >
                        <line x1="4" x2="20" y1="12" y2="12" />
                        <line x1="4" x2="20" y1="6" y2="6" />
                        <line x1="4" x2="20" y1="18" y2="18" />
                    </svg>
                    <span class="sr-only">Toggle menu</span>
                </SheetTrigger>
                <SheetContent side="left" class="w-[300px] sm:w-[400px] border-r-4 border-black p-0">
                    <div class="h-full overflow-y-auto bg-background">
                        <SidebarContent />
                    </div>
                </SheetContent>
            </Sheet>
            <div class="flex items-center gap-2 w-full">
                    <div
                        class="w-10 h-10 bg-primary border-[3px] border-black flex items-center justify-center font-black text-xl shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]"
                    >
                        V+
                    </div>
                    <span class="font-black text-xl hidden sm:block"
                        >ВитаБүүст</span
                    >
            </div>

<!-- 
            <nav class="hidden md:flex items-center gap-6">
                <a
                    href="/products"
                    class="font-bold hover:underline decoration-4">Бүгд</a
                >
                <a
                    href="/products#vitamins"
                    class="font-bold hover:underline decoration-4">Витамин</a
                >
                <a
                    href="/products#supplements"
                    class="font-bold hover:underline decoration-4"
                    >Нэмэлт бүтээгдэхүүн</a
                >
                <a
                    href="/products#bundles"
                    class="font-bold hover:underline decoration-4">Багц</a
                >
            </nav> -->

            <div class="flex items-center  gap-3">
                <!-- Search Button - triggers SearchOverlay -->
                <div class="hidden sm:block">
                    <SearchOverlay client:idle />
                </div>

                <UserProfile server:defer>
                    <div
                        slot="fallback"
                        aria-label="Профайл"
                        class="flex items-center justify-center w-9 h-9 border-2 border-border bg-background shadow-hard-sm"
                    >
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                </UserProfile>
                
                
                <div class="hidden md:block">
                    <CartButton client:idle />
                </div>
        </div>
    </div>
</header>
